ğŸš€ Sobre o desafio
Nesse desafio, vocÃª deve continuar desenvolvendo a aplicaÃ§Ã£o de gestÃ£o de transaÃ§Ãµes, a GoFinances. Agora vocÃª irÃ¡ praticar o que vocÃª aprendeu atÃ© agora no React.js junto com TypeScript, utilizando rotas e envio de arquivos por formulÃ¡rio.

Essa serÃ¡ uma aplicaÃ§Ã£o que irÃ¡ se conectar ao seu backend do Desafio 06, e exibir as transaÃ§Ãµes criadas e permitir a importaÃ§Ã£o de um arquivo CSV para gerar novos registros no banco de dados.

Preparando o backend
Antes de tudo, para que seu frontend se conecte corretamente ao backend, vÃ¡ atÃ© a pasta do seu backend e execute os comandos yarn add cors e depois yarn add @types/cors -D.

Depois disso vÃ¡ atÃ© o seu app.ts ainda no backend, e importe o cors e adicione app.use(cors()) antes da linha que contÃ©m app.use(routes);

AlÃ©m disso, tenha certeza que as informaÃ§Ãµes da categoria, estÃ£o sendo retornadas junto com a transaÃ§Ã£o do seu backend no formato como o seguinte:

{
"id": "c0512e43-6589-4dc8-bd0c-2a3f71b347aa",
"title": "Loan",
"type": "income",
"value": "1500.00",
"category_id": "d93eccc7-64bb-4268-b825-9200103f3a8b",
"created_at": "2020-04-20T00:00:49.620Z",
"updated_at": "2020-04-20T00:00:49.620Z",
"category": {
"id": "d93eccc7-64bb-4268-b825-9200103f3a8b",
"title": "Others",
"created_at": "2020-04-20T00:00:49.594Z",
"updated_at": "2020-04-20T00:00:49.594Z"
}
}
Para isso, vocÃª pode utilizar a funcionalidade de eager loading do TypeORM, adicionando o seguinte na sua model de transactions:

@ManyToOne(() => Category, category => category.transaction, { eager: true })
@JoinColumn({ name: 'category_id' })
category: Category;
Lembre tambÃ©m de fazer o mesmo na model de Category, mas referenciando a tabela de Transaction.

@OneToMany(() => Transaction, transaction => transaction.category)
transaction: Transaction;
Layout da aplicaÃ§Ã£o
Essa aplicaÃ§Ã£o possui um layout que vocÃª pode seguir para conseguir visualizar o seu funcionamento.

O layout pode ser acessado atravÃ©s da pÃ¡gina do Figma, no seguinte link.

VocÃª precisarÃ¡ uma conta (gratuita) no Figma pra inspecionar o layout e obter detalhes de cores, tamanhos, etc.

Funcionalidades da aplicaÃ§Ã£o
Agora que vocÃª jÃ¡ estÃ¡ com o template clonado e pronto para continuar, vocÃª deve verificar os arquivos da pasta src e completar onde nÃ£o possui cÃ³digo, com o cÃ³digo para atingir os objetivos de cada rota.

Listar as transaÃ§Ãµes da sua API: Sua pÃ¡gina Dashboard deve ser capaz de exibir uma listagem atravÃ©s de uma tabela, com o campo title, value, type e category de todas as transaÃ§Ãµes que estÃ£o cadastradas na sua API.

Dica: VocÃª pode utilizar a funÃ§Ã£o Intl para formatar os valores. Dentro da pasta utils no template vocÃª encontrarÃ¡ um cÃ³digo para te ajudar.

Exibir o balance da sua API: Sua pÃ¡gina Dashboard, vocÃª deve exibir o balance que Ã© retornado do seu backend, contendo o total geral, junto ao total de entradas e saÃ­das.

Importar arquivos CSV: Na sua pÃ¡gina Import, vocÃª deve permitir o envio de um arquivo no formato csv para o seu backend, que irÃ¡ fazer a importaÃ§Ã£o das transaÃ§Ãµes para o seu banco de dados. O arquivo csv deve seguir o seguinte modelo.

Dica: Deixamos disponÃ­vel um componente chamado Upload na pasta components para vocÃª ter jÃ¡ preparado uma opÃ§Ã£o de drag-n-drop para o upload de arquivos. PS: Caso vocÃª esteja no windows e esteja sofrendo com algum erro ao tentar importar CSV, altere o tipo de arquivo dentro do arquivo components/upload/index.ts de text/csv para .csv, application/vnd.ms-excel, text/csv.

Dica 2: Utilize o FormData() para conseguir enviar o seu arquivo para o seu backend.

EspecÃ­ficaÃ§Ã£o dos testes
Em cada teste, tem uma breve descriÃ§Ã£o no que sua aplicaÃ§Ã£o deve cumprir para que o teste passe.

Caso vocÃª tenha dÃºvidas quanto ao que sÃ£o os testes, e como interpretÃ¡-los, dÃ© uma olhada em nosso FAQ.

Para esse desafio, temos os seguintes testes:

should be able to list the total balance inside the cards: Para que esse teste passe, sua aplicaÃ§Ã£o deve permitir que seja exibido na sua Dashboard, cards contendo o total de income, outcome e o total da subtraÃ§Ã£o de income - outcome que sÃ£o retornados pelo balance do seu backend.

should be able to list the transactions: Para que esse teste passe, sua aplicaÃ§Ã£o deve permitir que sejam listados dentro de uma tabela, toda as transaÃ§Ãµes que sÃ£o retornadas do seu backend.

Dica: Para a exibiÃ§Ã£o dos valores na listagem de transaÃ§Ãµes, as transaÃ§Ãµes com tipo income devem exibir os valores no formado R$ 5.500,00. TransaÃ§Ãµes do tipo outcome devem exibir os valores no formado - R$ 5.500,00.

should be able to navigate to the import page: Para que esse teste passe, vocÃª deve permitir a troca de pÃ¡gina atravÃ©s do Header, pelo botÃ£o que contÃ©m o nome Importar.

Dica: Utilize o componente Link que Ã© exportado do react-router-dom, passando a propriedade to que leva para a pÃ¡gina /import.

should be able to upload a file: Para que esse teste passe, vocÃª deve permitir que um arquivo seja enviado atravÃ©s do componente de drag-n-drop na pÃ¡gina de import, e que seja possÃ­vel exibir o nome do arquivo enviado para o input.

Dica: Deixamos disponÃ­vel um componente chamado FileList na pasta components para ajudar vocÃª a listar os arquivos que enviar pelo componente de Upload, ele deve exibir o tÃ­tulo do arquivo e o tamanho dele.

ğŸ“† Entrega
Esse desafio deve ser entregue a partir da plataforma da Rocketseat, envie o link do repositÃ³rio que vocÃª fez suas alteraÃ§Ãµes. ApÃ³s concluir o desafio, fazer um post no Linkedin e postar o cÃ³digo no Github Ã© uma boa forma de demonstrar seus conhecimentos e esforÃ§os para evoluir na sua carreira para oportunidades futuras.
